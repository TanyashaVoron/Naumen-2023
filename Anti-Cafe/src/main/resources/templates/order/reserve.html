<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" >
<head>
    <meta charset="UTF-8">
    <title>Резервирование</title>
</head>
<body>
<form th:method="GET" th:action="@{/order/{id}(id=${orderId})}"><button type="submit">Назад</button> </form>
<form th:method="GET" th:action="@{/order/{id}/reserve(id=${orderId})}">
    <label>
        <select th:name="dayMonth" th:onchange="">
            <option th:each="days:${dayOfReserve}" th:value="${days}" th:text="${days}"></option>
        </select>
        <select th:name="gameZoneId" th:onchange="">
            <option th:each="gameZone:${gameZones}" th:value="${gameZone.getId()}" th:text="${gameZone.getId()}"></option>
        </select>
    </label>
    <input type="submit" value="Найти"/>
</form>

<table>
    <tr>
        <th>Свободное<br/>время</th>
        <th>Макс<br/>длительность<br/>резерва</th>
        <th>Введите резервируемое время</th>
    </tr>
    <tr th:each="freeTime:${freeTimes}">
        <td>
            <a th:text="${freeTime[0]} + ':00'"></a>
        </td>
        <td>
            <a th:text="${freeTime[1]} + 'ч.'"></a>
        </td>
        <td>
            <form th:method="POST" th:action="@{/order/reserve/Add}">
                <label th:for="hour"></label>
                <input th:type="hidden" th:value="${dayMonth}" th:name="dayOfMount">
                <input th:type="hidden" th:value="${gameZoneId}" th:name="gameZoneId">
                <input th:type="hidden" th:value="${freeTime[0]}" th:name="freeTime">
                <input th:type="hidden" th:value="${freeTime[1]}" th:name="maxHour">
                <input th:type="hidden" th:value="${orderId}" th:name="orderId">
                <input type="number" th:name="hour"  th:id="hour"/>
                <input type="submit" th:value="Зарезервировать">
            </form>
        </td>
    </tr>
</table>
<a th:if="${user.isPresent()}" th:text="${user.get().getName()}"></a>
</body>
</html>